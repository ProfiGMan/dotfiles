general {
    #before_sleep_cmd = wayland-idle-inhibitor.py &
    #after_sleep_cmd = pkill -f "wayland-idle-inhibitor.py" & hyprctl dispatch dpms on &   # to avoid having to press a key twice to turn on the display.
    after_sleep_cmd = hyprctl dispatch dpms on & 
}

listener {
    timeout = 300                                 # 5min
    on-timeout = if [[ $(playerctl status) != "Playing" ]]; then hyprctl dispatch dpms off; fi
    on-resume = hyprctl dispatch dpms on &          # screen on when activity is detected after timeout has fired.
}

listener {
    timeout = 600                                # 10min
    on-timeout = if [[ -f ~/.suspended ]]; then rm ~/.suspended; elif [[ $(playerctl status) != "Playing" ]]; then systemctl suspend; fi
}
